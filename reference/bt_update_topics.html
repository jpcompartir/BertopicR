<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Update Topic Representations — bt_update_topics • BertopicR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Update Topic Representations — bt_update_topics"><meta name="description" content="Updates topics and their representations to be based on the document-topic
classification described in the list of new_topics. As when initiating the model
with bt_compile_model, if you want to manipulate the topic representations you
must use a vectoriser/ctfidf model, these can be the same as those used in
bt_compile_model.
NOTE: The bertopic model you are working with is a pointer to a python object
at a point in memory. This means that the input and the output model cannot be
differentiated between without explicitly saving the model before performing
this operation. We do not need to specify an output to the bt_fit_model function
as the function changes the input model in place. If you do decide to explicitly assign a function output,
be aware that the output model and the input model will be the same as one another."><meta property="og:description" content="Updates topics and their representations to be based on the document-topic
classification described in the list of new_topics. As when initiating the model
with bt_compile_model, if you want to manipulate the topic representations you
must use a vectoriser/ctfidf model, these can be the same as those used in
bt_compile_model.
NOTE: The bertopic model you are working with is a pointer to a python object
at a point in memory. This means that the input and the output model cannot be
differentiated between without explicitly saving the model before performing
this operation. We do not need to specify an output to the bt_fit_model function
as the function changes the input model in place. If you do decide to explicitly assign a function output,
be aware that the output model and the input model will be the same as one another."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BertopicR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/modular_approach.html">Interacting with Individual Modules</a></li>
    <li><a class="dropdown-item" href="../articles/manipulating-the-model.html">Manipulating the Model</a></li>
    <li><a class="dropdown-item" href="../articles/quick_start.html">Topic Modelling without Optimisation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jpcompartir/BertopicR" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Update Topic Representations</h1>
      <small class="dont-index">Source: <a href="https://github.com/jpcompartir/BertopicR/R/modify_topics.R" class="external-link"><code>R/modify_topics.R</code></a></small>
      <div class="d-none name"><code>bt_update_topics.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Updates topics and their representations to be based on the document-topic
classification described in the list of new_topics. As when initiating the model
with bt_compile_model, if you want to manipulate the topic representations you
must use a vectoriser/ctfidf model, these can be the same as those used in
bt_compile_model.</p>
<p>NOTE: The bertopic model you are working with is a pointer to a python object
at a point in memory. This means that the input and the output model cannot be
differentiated between without explicitly saving the model before performing
this operation. We do not need to specify an output to the bt_fit_model function
as the function changes the input model in place. If you do decide to explicitly assign a function output,
be aware that the output model and the input model will be the same as one another.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bt_update_topics</span><span class="op">(</span></span>
<span>  <span class="va">fitted_model</span>,</span>
<span>  <span class="va">documents</span>,</span>
<span>  new_topics <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  representation_model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vectoriser_model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ctfidf_model <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fitted-model">fitted_model<a class="anchor" aria-label="anchor" href="#arg-fitted-model"></a></dt>
<dd><p>Output of bt_fit_model() or another bertopic topic model. The model must have been fitted to data.</p></dd>


<dt id="arg-documents">documents<a class="anchor" aria-label="anchor" href="#arg-documents"></a></dt>
<dd><p>documents to which the model was fit</p></dd>


<dt id="arg-new-topics">new_topics<a class="anchor" aria-label="anchor" href="#arg-new-topics"></a></dt>
<dd><p>Topics to update model with</p></dd>


<dt id="arg-representation-model">representation_model<a class="anchor" aria-label="anchor" href="#arg-representation-model"></a></dt>
<dd><p>model for updating topic representations</p></dd>


<dt id="arg-vectoriser-model">vectoriser_model<a class="anchor" aria-label="anchor" href="#arg-vectoriser-model"></a></dt>
<dd><p>Model for vectorising input for topic representations (Python object)</p></dd>


<dt id="arg-ctfidf-model">ctfidf_model<a class="anchor" aria-label="anchor" href="#arg-ctfidf-model"></a></dt>
<dd><p>Model for performing class-based tf-idf (ctf-idf) (Python object)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the updated model</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>NOTE: If using this function to update outlier topics, it may lead to errors
if topic reduction or topic merging techniques are used afterwards. The reason
for this is that when you assign a -1 document to topic 1 and another -1 document
to topic 2, it is unclear how you map the -1 documents. Is it matched to topic 1 or 2.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># update model with new topic distribution</span></span></span>
<span class="r-in"><span><span class="co"># reduce outliers</span></span></span>
<span class="r-in"><span><span class="va">outliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="bt_outliers_ctfidf.html">bt_outliers_ctfidf</a></span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, threshold <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># update the model with the new topic distribution</span></span></span>
<span class="r-in"><span><span class="fu">bt_update_topics</span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, new_topics <span class="op">=</span> <span class="va">outliers</span><span class="op">$</span><span class="va">new_topics</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># update topic representation</span></span></span>
<span class="r-in"><span><span class="fu">bt_update_topics</span><span class="op">(</span>fitted_model <span class="op">=</span> <span class="va">topic_model</span>, documents <span class="op">=</span> <span class="va">docs</span>, vectoriser_model <span class="op">=</span> <span class="va">update_vec_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jack Penzer, Aoife Ryan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

